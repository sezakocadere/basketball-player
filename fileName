-- H2 2.1.214; 
;              
CREATE USER IF NOT EXISTS "SA" SALT '1646ab4dfde937e7' HASH '302172c7e930266eac2f4fa978d051b26c9ba833c560127331ad1f558226c994' ADMIN;          
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 1;    
CREATE MEMORY TABLE "PUBLIC"."HISTORY"(
    "ID" BIGINT NOT NULL,
    "CHANGED_BY" CHARACTER VARYING(255) NOT NULL,
    "CREATE_TIME" TIMESTAMP NOT NULL,
    "OPERATION_TYPE" CHARACTER VARYING(255)
);       
ALTER TABLE "PUBLIC"."HISTORY" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.HISTORY;  
CREATE MEMORY TABLE "PUBLIC"."LOGIN_USER_AUD"(
    "ID" BIGINT NOT NULL,
    "REV" INTEGER NOT NULL,
    "REVTYPE" TINYINT,
    "PASSWORD" CHARACTER VARYING(255),
    "USERNAME" CHARACTER VARYING(255)
);    
ALTER TABLE "PUBLIC"."LOGIN_USER_AUD" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D" PRIMARY KEY("ID", "REV");         
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LOGIN_USER_AUD;           
CREATE MEMORY TABLE "PUBLIC"."LOGIN_USER"(
    "ID" BIGINT NOT NULL,
    "PASSWORD" CHARACTER VARYING(255) NOT NULL,
    "USERNAME" CHARACTER VARYING(255) NOT NULL
);         
ALTER TABLE "PUBLIC"."LOGIN_USER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.LOGIN_USER;               
CREATE MEMORY TABLE "PUBLIC"."PLAYER"(
    "ID" BIGINT NOT NULL,
    "NAME" CHARACTER VARYING(255) NOT NULL,
    "POSITION" CHARACTER VARYING(255) NOT NULL,
    "STATUS" CHARACTER VARYING(255) NOT NULL,
    "SURNAME" CHARACTER VARYING(255) NOT NULL,
    "TEAM_ID" BIGINT
);              
ALTER TABLE "PUBLIC"."PLAYER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");        
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.PLAYER;   
CREATE MEMORY TABLE "PUBLIC"."PLAYER_AUD"(
    "ID" BIGINT NOT NULL,
    "REV" INTEGER NOT NULL,
    "REVTYPE" TINYINT,
    "NAME" CHARACTER VARYING(255),
    "POSITION" CHARACTER VARYING(255),
    "STATUS" CHARACTER VARYING(255),
    "SURNAME" CHARACTER VARYING(255),
    "TEAM_ID" BIGINT
);           
ALTER TABLE "PUBLIC"."PLAYER_AUD" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID", "REV");             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PLAYER_AUD;               
CREATE MEMORY TABLE "PUBLIC"."REVINFO"(
    "REV" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "REVTSTMP" BIGINT
);    
ALTER TABLE "PUBLIC"."REVINFO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6C" PRIMARY KEY("REV");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.REVINFO;  
CREATE MEMORY TABLE "PUBLIC"."TEAM"(
    "ID" BIGINT NOT NULL,
    "NAME" CHARACTER VARYING(255)
);            
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");          
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.TEAM;     
CREATE MEMORY TABLE "PUBLIC"."TEAM_AUD"(
    "ID" BIGINT NOT NULL,
    "REV" INTEGER NOT NULL,
    "REVTYPE" TINYINT,
    "NAME" CHARACTER VARYING(255)
);     
ALTER TABLE "PUBLIC"."TEAM_AUD" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("ID", "REV");               
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TEAM_AUD; 
ALTER TABLE "PUBLIC"."PLAYER" ADD CONSTRAINT "PUBLIC"."UNIQUE_POSITION_AND_TEAM" UNIQUE("POSITION", "TEAM_ID");
ALTER TABLE "PUBLIC"."TEAM" ADD CONSTRAINT "PUBLIC"."UK_G2L9QQSOEUYNT4R5OFDT1X2TD" UNIQUE("NAME");             
ALTER TABLE "PUBLIC"."LOGIN_USER" ADD CONSTRAINT "PUBLIC"."UK_IMBGBRPV0PUVGB6IEUN7HO2EF" UNIQUE("USERNAME");   
ALTER TABLE "PUBLIC"."LOGIN_USER_AUD" ADD CONSTRAINT "PUBLIC"."FKFJLAVR6BXWI9T984LUYIAGJH4" FOREIGN KEY("REV") REFERENCES "PUBLIC"."REVINFO"("REV") NOCHECK;   
ALTER TABLE "PUBLIC"."PLAYER_AUD" ADD CONSTRAINT "PUBLIC"."FKI612TYYV8WIC13YIOOEF4K8TP" FOREIGN KEY("REV") REFERENCES "PUBLIC"."REVINFO"("REV") NOCHECK;       
ALTER TABLE "PUBLIC"."PLAYER" ADD CONSTRAINT "PUBLIC"."FKDVD6LJES11R44IGAWMPM1MC5S" FOREIGN KEY("TEAM_ID") REFERENCES "PUBLIC"."TEAM"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."TEAM_AUD" ADD CONSTRAINT "PUBLIC"."FKPML825HXAQX4Y5CKSVDSO2J51" FOREIGN KEY("REV") REFERENCES "PUBLIC"."REVINFO"("REV") NOCHECK;         
